<div fxLayout="row" id="pdf-div">
  <button mat-button id="generate-pdf-button" type="button" color="primary" (click)="savePDF()">
    GENERATE PDF
  </button>
</div>

<div *ngIf="notes; else notesError">
<h2>Pinned Notes</h2>
  <ul class= "note-container">
    <div *ngFor="let note of this.notes.slice().reverse()">
      <div *ngIf="this.note.pinned == 'true'">
        <mat-card class="note-card">
          <p> {{this.note.body}} </p>
          <mat-card-actions>
            <button mat-button class="note-action edit" [routerLink]="'/edit/' + note._id">
              <mat-icon aria-label="Edit note">edit</mat-icon>
            </button>
            <button mat-button class="note-action pin" (click)="unpinNote(this.note)">
              <mat-icon aria-label="Pin note">report_off</mat-icon>
            </button>
            <button mat-button class="note-action delete" (click)="deleteNote(note._id);">
              <mat-icon aria-label="Delete note">delete</mat-icon>
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </ul>
<h2>Unpinned Notes</h2>
<ul class= "note-container">
  <div *ngFor="let note of this.notes.slice().reverse()">
    <div *ngIf="this.note.pinned == 'false'">
      <mat-card class="note-card">
        <p> {{this.note.body}} </p>
        <mat-card-actions>
          <button mat-button class="note-action edit" [routerLink]="'/edit/' + note._id">
            <mat-icon aria-label="Edit note">edit</mat-icon>
          </button>
          <button mat-button class="note-action pin" (click)="pinNote(this.note)">
            <mat-icon aria-label="Pin note">report</mat-icon>
          </button>
          <button mat-button class="note-action delete" (click)="deleteNote(note._id);">
            <mat-icon aria-label="Delete note">delete</mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</ul>
</div>

<ng-template #notesError>
  <div class="note-error">
    <mat-error>
      There was a problem loading the notes. Possibly the server is down or perhaps there are network
      issues.
    </mat-error>
    <mat-error>
      Please wait a bit and try again.
    </mat-error>
  </div>
</ng-template>

<button mat-fab class="add-note-fab" matTooltip="Add Note" matTooltipPosition="left" routerLink="/new">
  <mat-icon class="md-24" aria-label="Add Note">add</mat-icon>
</button>
